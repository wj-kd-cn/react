<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <!-- 第一步，编辑页面名称 -->
  <title>可控组件页面</title>
</head>
<body>
 
  <!--
    引入react的依赖包
    react.developmengt.js
    react是react核心库，只要使用react就必须使用
    下载地址：https://unpkg.com/react@18.0.0/umd/react.development.js
    全局就有了一个React对象

    react-dom.development.js
    react-dom是react的dom包，使用react开发web必须使用
    下载地址：https://unpkg.com/react-dom@18.0.0/umd/react-dom.development.js
    全局就有了一个ReactDOM对象

    babel.min.js
    将JSX转换为JS代码
    下载地址：https://unpkg.com/babel-standalone@6/babel.min.js

  -->


  
  <script type="text/javascript" src="../js/react.development.js" ></script> 
  <script type="text/javascript" src="../js/react-dom.development.js" ></script>
  <script type="text/javascript" src="../js/babel.min.js"></script>
    <!--
       渲染ReactDOM页面组件
  -->
  <div id="app"></div>
  
  <script type="text/babel" >
   //第二步，编辑类组件
    class Acontrol extends React.Component{
      //初始化状态
      state ={
        username:'',
        password:''
      }
      //region 和 endregion 可以折叠注释
      //#region
          /*
          高阶函数：如果一个函数符合以下2个规范中的任何一个，那该函数为高阶函数
          1、若A函数，接收的参数是一个函数，那么A函数就是高阶函数
          2、若A函数，调用的返回值依然是一个函数，那么A就可以称之为一个高阶函数

          函数柯里化：通过函数调用继续返回函数的方式，实现多次接收参数最后统一处理的函数编码形式

          */

      //#endregion




      
      setFormData = (dataType) => {
        console.log(dataType)
        return (event) =>{
            console.log('@',dataType,event.target.value)
            //[dataType]其中[]为参数取值运算符
            this.setState({[dataType]:event.target.value})

        }

      }
      // 非柯里化函数的写法：setFormData2('username',event)

      setFormData2 = (dataType,event) => {

            console.log('@',dataType,event.target.value)
            //[dataType]其中[]为参数取值运算符
            this.setState({[dataType]:event.target.value})


      }

      toSubmit = (event) => {
        event.preventDefault()
        const{username,password} = this.state
        console.log(`用户名： ${username}  密码： ${password}`)
        alert(`用户名： ${username}  密码： ${password}`)


      }
      // {<!--事件回调，不能带小括号，因为你把回调的返回值作为了回调，没有把函数作为回调-->}
      // 非柯里化函数的写法：{event => this.setFormData2('username',event)}
      render(){
        console.log(this)
        return(
          <form action="" onSubmit={this.toSubmit}>
            
             用户名：<input onChange={event => this.setFormData2('username',event)} type="text" name="username"/>
             密  码：<input onChange={this.setFormData('password')} type="password" name="password"/>
            <button>登录</button>

          </form>


        )
      }
    }
    //第三步，编辑渲染组件
    ReactDOM.render(<Acontrol/>,document.getElementById("app"))
  </script>
</body>

</html>